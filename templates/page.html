{% extends 'base.html' %}

{% block breadcrumbs %}
    {% for name, path in breadcrumbs %}
        / <a href="?path={{ path }}">{{ name }}</a>
    {% endfor %}
{% endblock %}

{% block main %}
    <form method="POST">
        <label>
            {{ 'Body'|trans }}
            <textarea name="md">{{ md }}</textarea>
        </label>

        <label>
            {{ 'Metadata'|trans }}
            <textarea name="yml">{{ yml }}</textarea>
        </label>

        <div class="button-row">
            <div>
                <input type="submit" value="{{ 'Save'|trans }}">
                <input type="submit" class="button--danger" name="delete" value="{{ 'Delete'|trans }}">
            </div>
            <div>
                <a href="{{ url }}" target="_blank" class="button">{{ 'View'|trans }}</a>
            </div>
        </div>
    </form>

    {% if not pathIsFile %}
        <ul class="file-list">
            {% for name, path in subpages %}
                <li><a href="?path={{ path }}" class="file-list__main">{{ name }}</a></li>
            {% endfor %}
            <li>
                <form class="flex-ignore">
                    <input type="hidden" name="path" value="{{ path }}">
                    <input type="text" name="add" placeholder="{{ 'add page'|trans }}" class="input--invisible file-list__main">
                </form>
            </li>
        </ul>
    {% endif %}
{% endblock %}
